from django.core.management.base import BaseCommand
from library.models import Book
import random

class Command(BaseCommand):
    help = 'Populate the database with sample books'

    def handle(self, *args, **kwargs):
        # Clear existing books
        Book.objects.all().delete()
        
        books_data = [
            {
                'title': 'To Kill a Mockingbird',
                'author': 'Harper Lee',
                'published_year': 1960,
                'category': 'Fiction',
                'isbn': '9780061120084',
                'publisher': 'J.B. Lippincott & Co.',
                'language': 'English',
                'pages': 324,
                'edition': '1st',
                'description': 'A gripping tale of racial injustice and childhood innocence in the American South.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'A-12',
                'rating': 4.8
            },
            {
                'title': '1984',
                'author': 'George Orwell',
                'published_year': 1949,
                'category': 'Fiction',
                'isbn': '9780451524935',
                'publisher': 'Secker & Warburg',
                'language': 'English',
                'pages': 328,
                'edition': '1st',
                'description': 'A dystopian social science fiction novel and cautionary tale about totalitarianism.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 4,
                'shelf_location': 'A-15',
                'rating': 4.7
            },
            {
                'title': 'Pride and Prejudice',
                'author': 'Jane Austen',
                'published_year': 1813,
                'category': 'Romance',
                'isbn': '9780141439518',
                'publisher': 'T. Egerton',
                'language': 'English',
                'pages': 432,
                'edition': '1st',
                'description': 'A romantic novel of manners that critiques the British landed gentry at the end of the 18th century.',
                'status': 'Borrowed',
                'copies_available': 0,
                'total_copies': 3,
                'shelf_location': 'B-08',
                'rating': 4.6
            },
            {
                'title': 'The Great Gatsby',
                'author': 'F. Scott Fitzgerald',
                'published_year': 1925,
                'category': 'Fiction',
                'isbn': '9780743273565',
                'publisher': 'Charles Scribner\'s Sons',
                'language': 'English',
                'pages': 180,
                'edition': '1st',
                'description': 'A novel about the American Dream, wealth, and the Jazz Age.',
                'status': 'Available',
                'copies_available': 4,
                'total_copies': 6,
                'shelf_location': 'A-20',
                'rating': 4.5
            },
            {
                'title': 'Harry Potter and the Philosopher\'s Stone',
                'author': 'J.K. Rowling',
                'published_year': 1997,
                'category': 'Fantasy',
                'isbn': '9780747532699',
                'publisher': 'Bloomsbury',
                'language': 'English',
                'pages': 223,
                'edition': '1st',
                'description': 'The first novel in the Harry Potter series about a young wizard\'s journey.',
                'status': 'Available',
                'copies_available': 5,
                'total_copies': 8,
                'shelf_location': 'C-05',
                'rating': 4.9
            },
            {
                'title': 'The Hobbit',
                'author': 'J.R.R. Tolkien',
                'published_year': 1937,
                'category': 'Fantasy',
                'isbn': '9780547928227',
                'publisher': 'George Allen & Unwin',
                'language': 'English',
                'pages': 310,
                'edition': '1st',
                'description': 'A fantasy novel about the quest of home-loving Bilbo Baggins.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'C-10',
                'rating': 4.7
            },
            {
                'title': 'The Catcher in the Rye',
                'author': 'J.D. Salinger',
                'published_year': 1951,
                'category': 'Fiction',
                'isbn': '9780316769174',
                'publisher': 'Little, Brown and Company',
                'language': 'English',
                'pages': 277,
                'edition': '1st',
                'description': 'A story about teenage rebellion and alienation.',
                'status': 'Reserved',
                'copies_available': 1,
                'total_copies': 3,
                'shelf_location': 'A-25',
                'rating': 4.3
            },
            {
                'title': 'The Lord of the Rings',
                'author': 'J.R.R. Tolkien',
                'published_year': 1954,
                'category': 'Fantasy',
                'isbn': '9780544003415',
                'publisher': 'George Allen & Unwin',
                'language': 'English',
                'pages': 1178,
                'edition': '1st',
                'description': 'An epic high-fantasy novel about the quest to destroy the One Ring.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 4,
                'shelf_location': 'C-12',
                'rating': 4.9
            },
            {
                'title': 'Brave New World',
                'author': 'Aldous Huxley',
                'published_year': 1932,
                'category': 'Science',
                'isbn': '9780060850524',
                'publisher': 'Chatto & Windus',
                'language': 'English',
                'pages': 311,
                'edition': '1st',
                'description': 'A dystopian novel set in a futuristic World State.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 3,
                'shelf_location': 'D-05',
                'rating': 4.4
            },
            {
                'title': 'The Da Vinci Code',
                'author': 'Dan Brown',
                'published_year': 2003,
                'category': 'Mystery',
                'isbn': '9780307474278',
                'publisher': 'Doubleday',
                'language': 'English',
                'pages': 454,
                'edition': '1st',
                'description': 'A mystery thriller novel following symbologist Robert Langdon.',
                'status': 'Borrowed',
                'copies_available': 0,
                'total_copies': 4,
                'shelf_location': 'E-08',
                'rating': 4.2
            },
            {
                'title': 'Sapiens: A Brief History of Humankind',
                'author': 'Yuval Noah Harari',
                'published_year': 2011,
                'category': 'History',
                'isbn': '9780062316097',
                'publisher': 'Harvill Secker',
                'language': 'English',
                'pages': 443,
                'edition': '1st',
                'description': 'An exploration of the history and impact of Homo sapiens.',
                'status': 'Available',
                'copies_available': 4,
                'total_copies': 6,
                'shelf_location': 'F-15',
                'rating': 4.6
            },
            {
                'title': 'Educated',
                'author': 'Tara Westover',
                'published_year': 2018,
                'category': 'Biography',
                'isbn': '9780399590504',
                'publisher': 'Random House',
                'language': 'English',
                'pages': 334,
                'edition': '1st',
                'description': 'A memoir about a woman who grows up in a strict and abusive household.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'G-10',
                'rating': 4.7
            },
            {
                'title': 'Thinking, Fast and Slow',
                'author': 'Daniel Kahneman',
                'published_year': 2011,
                'category': 'Psychology',
                'isbn': '9780374533557',
                'publisher': 'Farrar, Straus and Giroux',
                'language': 'English',
                'pages': 499,
                'edition': '1st',
                'description': 'A book about the two systems that drive the way we think.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 4,
                'shelf_location': 'H-05',
                'rating': 4.5
            },
            {
                'title': 'The Alchemist',
                'author': 'Paulo Coelho',
                'published_year': 1988,
                'category': 'Fiction',
                'isbn': '9780062315007',
                'publisher': 'HarperOne',
                'language': 'English',
                'pages': 208,
                'edition': '1st',
                'description': 'A philosophical novel about following your dreams.',
                'status': 'Available',
                'copies_available': 5,
                'total_copies': 7,
                'shelf_location': 'A-30',
                'rating': 4.3
            },
            {
                'title': 'Steve Jobs',
                'author': 'Walter Isaacson',
                'published_year': 2011,
                'category': 'Biography',
                'isbn': '9781451648539',
                'publisher': 'Simon & Schuster',
                'language': 'English',
                'pages': 656,
                'edition': '1st',
                'description': 'The exclusive biography of Steve Jobs.',
                'status': 'Borrowed',
                'copies_available': 0,
                'total_copies': 3,
                'shelf_location': 'G-15',
                'rating': 4.6
            },
            {
                'title': 'The Lean Startup',
                'author': 'Eric Ries',
                'published_year': 2011,
                'category': 'Business',
                'isbn': '9780307887894',
                'publisher': 'Crown Business',
                'language': 'English',
                'pages': 336,
                'edition': '1st',
                'description': 'How today\'s entrepreneurs use continuous innovation to create radically successful businesses.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'I-10',
                'rating': 4.4
            },
            {
                'title': 'Atomic Habits',
                'author': 'James Clear',
                'published_year': 2018,
                'category': 'Self-Help',
                'isbn': '9780735211292',
                'publisher': 'Avery',
                'language': 'English',
                'pages': 320,
                'edition': '1st',
                'description': 'An easy and proven way to build good habits and break bad ones.',
                'status': 'Available',
                'copies_available': 6,
                'total_copies': 8,
                'shelf_location': 'J-05',
                'rating': 4.8
            },
            {
                'title': 'Clean Code',
                'author': 'Robert C. Martin',
                'published_year': 2008,
                'category': 'Technology',
                'isbn': '9780132350884',
                'publisher': 'Prentice Hall',
                'language': 'English',
                'pages': 464,
                'edition': '1st',
                'description': 'A handbook of agile software craftsmanship.',
                'status': 'Available',
                'copies_available': 4,
                'total_copies': 6,
                'shelf_location': 'K-12',
                'rating': 4.7
            },
            {
                'title': 'The Pragmatic Programmer',
                'author': 'Andrew Hunt',
                'published_year': 1999,
                'category': 'Technology',
                'isbn': '9780135957059',
                'publisher': 'Addison-Wesley',
                'language': 'English',
                'pages': 352,
                'edition': '2nd',
                'description': 'Your journey to mastery in software development.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 4,
                'shelf_location': 'K-15',
                'rating': 4.6
            },
            {
                'title': 'The Power of Now',
                'author': 'Eckhart Tolle',
                'published_year': 1997,
                'category': 'Self-Help',
                'isbn': '9781577314806',
                'publisher': 'New World Library',
                'language': 'English',
                'pages': 236,
                'edition': '1st',
                'description': 'A guide to spiritual enlightenment.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'J-10',
                'rating': 4.5
            },
            {
                'title': 'Meditations',
                'author': 'Marcus Aurelius',
                'published_year': 180,
                'category': 'Philosophy',
                'isbn': '9780140449334',
                'publisher': 'Penguin Classics',
                'language': 'English',
                'pages': 254,
                'edition': 'Modern',
                'description': 'Personal writings by the Roman Emperor on Stoic philosophy.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 3,
                'shelf_location': 'L-05',
                'rating': 4.8
            },
            {
                'title': 'The Republic',
                'author': 'Plato',
                'published_year': -380,
                'category': 'Philosophy',
                'isbn': '9780140455113',
                'publisher': 'Penguin Classics',
                'language': 'English',
                'pages': 416,
                'edition': 'Modern',
                'description': 'A Socratic dialogue concerning justice and the order of the just city-state.',
                'status': 'Available',
                'copies_available': 1,
                'total_copies': 2,
                'shelf_location': 'L-08',
                'rating': 4.4
            },
            {
                'title': 'Introduction to Algorithms',
                'author': 'Thomas H. Cormen',
                'published_year': 2009,
                'category': 'Technology',
                'isbn': '9780262033848',
                'publisher': 'MIT Press',
                'language': 'English',
                'pages': 1312,
                'edition': '3rd',
                'description': 'A comprehensive textbook on computer algorithms.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'K-20',
                'rating': 4.7
            },
            {
                'title': 'The Art of War',
                'author': 'Sun Tzu',
                'published_year': -500,
                'category': 'Philosophy',
                'isbn': '9781590302255',
                'publisher': 'Shambhala',
                'language': 'English',
                'pages': 273,
                'edition': 'Modern',
                'description': 'An ancient Chinese military treatise.',
                'status': 'Available',
                'copies_available': 4,
                'total_copies': 6,
                'shelf_location': 'L-12',
                'rating': 4.5
            },
            {
                'title': 'Becoming',
                'author': 'Michelle Obama',
                'published_year': 2018,
                'category': 'Biography',
                'isbn': '9781524763138',
                'publisher': 'Crown',
                'language': 'English',
                'pages': 448,
                'edition': '1st',
                'description': 'A memoir by the former First Lady of the United States.',
                'status': 'Reserved',
                'copies_available': 1,
                'total_copies': 5,
                'shelf_location': 'G-20',
                'rating': 4.7
            },
            {
                'title': 'The 7 Habits of Highly Effective People',
                'author': 'Stephen Covey',
                'published_year': 1989,
                'category': 'Self-Help',
                'isbn': '9781982137274',
                'publisher': 'Free Press',
                'language': 'English',
                'pages': 381,
                'edition': '1st',
                'description': 'Powerful lessons in personal change.',
                'status': 'Available',
                'copies_available': 5,
                'total_copies': 7,
                'shelf_location': 'J-15',
                'rating': 4.6
            },
            {
                'title': 'Zero to One',
                'author': 'Peter Thiel',
                'published_year': 2014,
                'category': 'Business',
                'isbn': '9780804139298',
                'publisher': 'Crown Business',
                'language': 'English',
                'pages': 224,
                'edition': '1st',
                'description': 'Notes on startups, or how to build the future.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 4,
                'shelf_location': 'I-15',
                'rating': 4.5
            },
            {
                'title': 'The Subtle Art of Not Giving a F*ck',
                'author': 'Mark Manson',
                'published_year': 2016,
                'category': 'Self-Help',
                'isbn': '9780062457714',
                'publisher': 'HarperOne',
                'language': 'English',
                'pages': 224,
                'edition': '1st',
                'description': 'A counterintuitive approach to living a good life.',
                'status': 'Available',
                'copies_available': 4,
                'total_copies': 6,
                'shelf_location': 'J-20',
                'rating': 4.3
            },
            {
                'title': 'Dune',
                'author': 'Frank Herbert',
                'published_year': 1965,
                'category': 'Science',
                'isbn': '9780441172719',
                'publisher': 'Chilton Books',
                'language': 'English',
                'pages': 688,
                'edition': '1st',
                'description': 'A science fiction novel set in the distant future.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 4,
                'shelf_location': 'D-10',
                'rating': 4.6
            },
            {
                'title': 'The Hitchhiker\'s Guide to the Galaxy',
                'author': 'Douglas Adams',
                'published_year': 1979,
                'category': 'Science',
                'isbn': '9780345391803',
                'publisher': 'Pan Books',
                'language': 'English',
                'pages': 224,
                'edition': '1st',
                'description': 'A comedic science fiction series.',
                'status': 'Available',
                'copies_available': 3,
                'total_copies': 5,
                'shelf_location': 'D-15',
                'rating': 4.7
            },
            {
                'title': 'Good to Great',
                'author': 'Jim Collins',
                'published_year': 2001,
                'category': 'Business',
                'isbn': '9780066620992',
                'publisher': 'HarperBusiness',
                'language': 'English',
                'pages': 300,
                'edition': '1st',
                'description': 'Why some companies make the leap and others don\'t.',
                'status': 'Available',
                'copies_available': 2,
                'total_copies': 4,
                'shelf_location': 'I-20',
                'rating': 4.4
            },
        ]
        
        created_count = 0
        for book_data in books_data:
            try:
                Book.objects.create(**book_data)
                created_count += 1
                self.stdout.write(self.style.SUCCESS(f'Created: {book_data["title"]}'))
            except Exception as e:
                self.stdout.write(self.style.ERROR(f'Error creating {book_data["title"]}: {str(e)}'))
        
        self.stdout.write(self.style.SUCCESS(f'\nSuccessfully created {created_count} books!'))
